# 快速入门：词法元素菜单导航

**功能**: 002-lexical-menu-structure  
**日期**: 2025-12-04  
**状态**: 完成

## 概述

本指南介绍如何使用Go学习工具的新增二级菜单功能，帮助用户更方便地浏览和学习词法元素相关主题。

## 启动应用

在项目根目录运行：

```bash
go run main.go
```

或者使用已编译的可执行文件：

```bash
# Windows
.\go-study2.exe

# Linux/macOS
./go-study2
```

## 主菜单导航

启动后，您将看到主菜单：

```
Go Lexical Elements Learning Tool
---------------------------------
Please select a topic to study:
0. Lexical elements
q. Quit

Enter your choice:
```

### 主菜单选项

- **0** - 进入词法元素子菜单
- **q** - 退出程序

## 词法元素子菜单

选择主菜单的 **0** 选项后，将进入词法元素子菜单：

```
词法元素学习菜单
---------------------------------
请选择要学习的主题:
0. Comments (注释)
1. Tokens (标记)
2. Semicolons (分号)
3. Identifiers (标识符)
4. Keywords (关键字)
5. Operators (运算符)
6. Integers (整数)
7. Floats (浮点数)
8. Imaginary (虚数)
9. Runes (符文)
10. Strings (字符串)
q. 返回上级菜单

请输入您的选择:
```

### 子菜单选项

- **0-10** - 查看对应主题的详细内容
- **q** - 返回主菜单

## 使用示例

### 示例 1: 学习关键字

1. 启动程序
2. 在主菜单输入 `0` 并按回车
3. 在子菜单输入 `4` (Keywords) 并按回车
4. 查看关键字相关内容
5. 内容显示完毕后，自动返回子菜单
6. 输入 `q` 返回主菜单

### 示例 2: 连续学习多个主题

1. 启动程序
2. 在主菜单输入 `0`
3. 在子菜单输入 `0` 查看 Comments
4. 内容显示后，输入 `1` 查看 Tokens
5. 继续输入 `2` 查看 Semicolons
6. 输入 `q` 返回主菜单
7. 输入 `q` 退出程序

### 示例 3: 处理错误输入

如果输入无效选项：

```
请输入您的选择: 99
无效的选择，请重试。

请输入您的选择: abc
无效的选择，请重试。

请输入您的选择: 5
[显示 Operators 内容]
```

## 输入规则

### 有效输入

- **数字**: 主菜单中的 `0`，子菜单中的 `0-10`
- **字母**: `q` (不区分大小写)
- **空格**: 输入前后的空格会被自动忽略

### 无效输入

- 超出范围的数字（如子菜单中的 `11`, `-1`）
- 非数字字符（除了 `q`）
- 空输入（直接按回车）

### 错误处理

- 输入无效时，程序会显示错误提示
- 不会退出程序，而是重新显示菜单
- 可以继续尝试输入正确的选项

## 导航流程图

```
[启动程序]
    ↓
[主菜单]
    ↓
输入 "0"
    ↓
[词法元素子菜单] ←──────┐
    ↓                   │
输入 "0-10"             │
    ↓                   │
[显示主题内容] ─────────┘
    │
输入 "q"
    ↓
[返回主菜单]
    ↓
输入 "q"
    ↓
[退出程序]
```

## 常见问题

### Q1: 如何退出程序？

**A**: 在主菜单输入 `q` 并按回车。如果在子菜单中，先输入 `q` 返回主菜单，再输入 `q` 退出。

### Q2: 查看完一个主题后会发生什么？

**A**: 内容显示完毕后，会自动返回子菜单，您可以继续选择其他主题或返回主菜单。

### Q3: 可以直接从子菜单退出程序吗？

**A**: 不可以。需要先输入 `q` 返回主菜单，然后再输入 `q` 退出程序。

### Q4: 输入错误会怎样？

**A**: 程序会显示"无效的选择，请重试"，然后重新显示菜单，不会退出或崩溃。

### Q5: 支持中文输入吗？

**A**: 菜单选项只接受数字和字母 `q`，不需要输入中文。但程序会正确显示中文提示信息。

## 技术说明

### 测试功能

如果您是开发者，可以运行测试套件：

```bash
# 运行所有测试
go test ./...

# 运行主程序测试
go test -v

# 运行词法元素包测试
go test -v ./internal/app/lexical_elements/

# 查看测试覆盖率
go test -cover ./...
```

### 代码结构

- **main.go**: 主菜单逻辑
- **internal/app/lexical_elements/lexical_elements.go**: 子菜单逻辑
- **internal/app/lexical_elements/*.go**: 各主题内容实现

## 下一步

- 探索所有 11 个词法元素主题
- 查看每个主题的示例代码
- 运行测试以了解实现细节
- 参考源代码学习 Go 语言的菜单实现模式

## 反馈与支持

如遇到问题或有改进建议，请查看项目文档或提交 issue。

---

**版本**: 1.0.0  
**最后更新**: 2025-12-04
